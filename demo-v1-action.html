<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Same character. Every shoot. Guaranteed.</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #09090b;
      color: #fafafa;
      min-height: 100vh;
      line-height: 1.5;
    }

    .screen {
      display: none;
      min-height: 100vh;
    }

    .screen.active {
      display: flex;
      flex-direction: column;
    }

    /* Screen 1: Landing */
    .landing {
      justify-content: center;
      align-items: center;
      padding: 2rem;
      text-align: center;
    }

    .landing h1 {
      font-size: clamp(2.5rem, 8vw, 4.5rem);
      font-weight: 700;
      line-height: 1.1;
      margin-bottom: 1.5rem;
    }

    .landing .subtitle {
      font-size: clamp(1rem, 3vw, 1.5rem);
      color: #a1a1aa;
      margin-bottom: 3rem;
    }

    .btn-primary {
      background: #ccff00;
      color: #09090b;
      font-size: 1.25rem;
      font-weight: 700;
      padding: 1.25rem 3rem;
      border: none;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary:hover {
      background: #b8e600;
      transform: scale(1.02);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .presets {
      margin-top: 4rem;
    }

    .presets-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #52525b;
      margin-bottom: 1rem;
    }

    .preset-tags {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .preset-tag {
      font-size: 0.875rem;
      color: #71717a;
      padding: 0.5rem 1rem;
      border: 1px solid #27272a;
      border-radius: 2rem;
    }

    /* Screen 2: Upload */
    .upload-screen {
      padding: 2rem;
      max-width: 600px;
      margin: 0 auto;
      width: 100%;
    }

    .back-btn {
      background: none;
      border: none;
      color: #71717a;
      font-size: 1rem;
      cursor: pointer;
      margin-bottom: 2rem;
      padding: 0.5rem 0;
    }

    .back-btn:hover {
      color: #d4d4d8;
    }

    .screen-title {
      font-size: clamp(1.5rem, 5vw, 2.5rem);
      font-weight: 700;
      text-align: center;
      margin-bottom: 2rem;
    }

    .drop-zone {
      aspect-ratio: 1;
      max-width: 400px;
      margin: 0 auto 2rem;
      border: 2px dashed #3f3f46;
      border-radius: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
    }

    .drop-zone:hover {
      border-color: #71717a;
      background: #18181b;
    }

    .drop-zone.dragover {
      border-color: #ccff00;
      background: rgba(204, 255, 0, 0.05);
    }

    .drop-zone-icon {
      font-size: 4rem;
      color: #52525b;
      margin-bottom: 1rem;
    }

    .drop-zone-text {
      color: #a1a1aa;
      font-size: 1.125rem;
    }

    .drop-zone-hint {
      color: #52525b;
      font-size: 0.875rem;
      margin-top: 0.5rem;
    }

    .preview-container {
      max-width: 400px;
      margin: 0 auto;
    }

    .preview-image {
      position: relative;
      aspect-ratio: 1;
      border-radius: 1rem;
      overflow: hidden;
      margin-bottom: 1.5rem;
    }

    .preview-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .remove-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 2.5rem;
      height: 2.5rem;
      background: rgba(0, 0, 0, 0.7);
      border: none;
      border-radius: 50%;
      color: #d4d4d8;
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .remove-btn:hover {
      background: rgba(0, 0, 0, 0.9);
    }

    /* Screen 3: Choose */
    .choose-screen {
      padding: 2rem;
      max-width: 900px;
      margin: 0 auto;
      width: 100%;
      padding-bottom: 120px;
    }

    .screen-subtitle {
      text-align: center;
      color: #71717a;
      margin-bottom: 2rem;
    }

    .shoot-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .shoot-card {
      background: #18181b;
      border: 2px solid #27272a;
      border-radius: 0.75rem;
      padding: 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
    }

    .shoot-card:hover {
      border-color: #52525b;
      background: #27272a;
    }

    .shoot-card.selected {
      border-color: #ccff00;
      background: rgba(204, 255, 0, 0.08);
    }

    .shoot-card-title {
      font-size: 1.125rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .shoot-card-desc {
      font-size: 0.875rem;
      color: #a1a1aa;
    }

    .fixed-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 1.5rem;
      background: rgba(9, 9, 11, 0.95);
      border-top: 1px solid #27272a;
      backdrop-filter: blur(8px);
    }

    .fixed-footer .btn-primary {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      display: block;
    }

    /* Screen 4: Results */
    .results-screen {
      padding: 2rem;
      max-width: 900px;
      margin: 0 auto;
      width: 100%;
    }

    .results-panel {
      background: #18181b;
      border: 1px solid #27272a;
      border-radius: 1rem;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .contact-sheet {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .contact-frame {
      aspect-ratio: 1;
      background: #27272a;
      border-radius: 0.5rem;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .contact-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.6;
    }

    .contact-frame span {
      color: #52525b;
      font-size: 0.75rem;
    }

    .prompt-preview {
      background: #09090b;
      border-radius: 0.5rem;
      padding: 1rem;
      max-height: 200px;
      overflow-y: auto;
    }

    .prompt-preview pre {
      font-family: 'SF Mono', Monaco, 'Courier New', monospace;
      font-size: 0.75rem;
      color: #a1a1aa;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .btn-secondary {
      background: #27272a;
      color: #fafafa;
      font-size: 1rem;
      font-weight: 600;
      padding: 1rem 2rem;
      border: none;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-secondary:hover {
      background: #3f3f46;
    }

    .btn-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }

    .btn-link {
      background: none;
      border: none;
      color: #71717a;
      font-size: 1rem;
      padding: 1rem;
      cursor: pointer;
      transition: color 0.2s;
    }

    .btn-link:hover {
      color: #d4d4d8;
    }

    .btn-primary.copied {
      background: #22c55e;
    }

    /* Generating state */
    .generating {
      text-align: center;
      padding: 4rem 2rem;
    }

    .spinner {
      width: 48px;
      height: 48px;
      border: 3px solid #27272a;
      border-top-color: #ccff00;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 1.5rem;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .generating-text {
      font-size: 1.25rem;
      color: #a1a1aa;
    }

    /* Hidden file input */
    #fileInput {
      display: none;
    }
  </style>
</head>
<body>

  <!-- Screen 1: Landing -->
  <div id="screen-landing" class="screen landing active">
    <h1>Same character.<br>Every shoot.<br>Guaranteed.</h1>
    <p class="subtitle">Generate a full professional photoshoot in 10 seconds.</p>
    <button class="btn-primary" onclick="goToUpload()">Upload Character</button>
    <div class="presets">
      <p class="presets-label">Popular shoot types</p>
      <div class="preset-tags">
        <span class="preset-tag">Headshots</span>
        <span class="preset-tag">Fashion Poses</span>
        <span class="preset-tag">Product Shots</span>
      </div>
    </div>
  </div>

  <!-- Screen 2: Upload -->
  <div id="screen-upload" class="screen">
    <div class="upload-screen">
      <button class="back-btn" onclick="goToLanding()">&larr; Back</button>
      <h2 class="screen-title">Upload your character</h2>

      <div id="drop-zone" class="drop-zone" onclick="document.getElementById('fileInput').click()">
        <div class="drop-zone-icon">+</div>
        <p class="drop-zone-text">Drop image here</p>
        <p class="drop-zone-hint">or click to browse</p>
      </div>

      <div id="preview-container" class="preview-container" style="display: none;">
        <div class="preview-image">
          <img id="preview-img" src="" alt="Uploaded character">
          <button class="remove-btn" onclick="removeImage()">&times;</button>
        </div>
        <button class="btn-primary" style="width: 100%;" onclick="goToChoose()">Continue</button>
      </div>
    </div>
  </div>

  <input type="file" id="fileInput" accept="image/*" onchange="handleFileSelect(event)">

  <!-- Screen 3: Choose Shoot Type -->
  <div id="screen-choose" class="screen">
    <div class="choose-screen">
      <button class="back-btn" onclick="goToUpload()">&larr; Back</button>
      <h2 class="screen-title">Choose your shoot type</h2>
      <p class="screen-subtitle">Tap one to select</p>

      <div id="shoot-grid" class="shoot-grid"></div>
    </div>

    <div id="generate-footer" class="fixed-footer" style="display: none;">
      <button id="generate-btn" class="btn-primary" onclick="generateShoot()">Generate Shoot</button>
    </div>
  </div>

  <!-- Screen 4: Results -->
  <div id="screen-results" class="screen">
    <div class="results-screen">
      <h2 id="results-title" class="screen-title">Your Shoot</h2>
      <p class="screen-subtitle">Your prompt is ready</p>

      <div class="results-panel">
        <div id="contact-sheet" class="contact-sheet"></div>
        <div class="prompt-preview">
          <pre id="prompt-text"></pre>
        </div>
      </div>

      <div class="action-buttons">
        <button id="copy-btn" class="btn-primary" onclick="copyPrompt()">Copy Prompt</button>
        <div class="btn-row">
          <button class="btn-secondary" onclick="regenerate()">Regenerate</button>
          <button class="btn-secondary" onclick="tryAnother()">Try Another Style</button>
        </div>
        <button class="btn-link" onclick="startOver()">Start Over</button>
      </div>
    </div>
  </div>

  <script>
    // Shoot types with human-friendly names
    const SHOOT_TYPES = [
      {
        id: "facial_pose_primary_moods",
        name: "6 Professional Headshots",
        desc: "Professional headshot grid with 6 expressions",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity. Do not redesign the face.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Background: clean white studio.

FRAMES:
1. Pure joy, wide genuine smile with eyes crinkled
2. Deep sadness, eyes downcast and heavy lids
3. Intense anger, furrowed brow and clenched jaw
4. Shock and wonder, raised brows and open mouth
5. Subtle contempt, asymmetrical lip curl
6. Fearful dread, wide eyes and tense expression

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- All frames identical in size and perfectly aligned
- Thin 2px grid dividers
- Same face, proportions, skin texture, and lighting across all frames
- No visible text, labels, numbers, captions, or overlays`
      },
      {
        id: "facial_pose_bizarre_expressions",
        name: "Expressive Character Shots",
        desc: "Bold, editorial facial expressions",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Extreme facial close-ups. Background: white studio.

FRAMES:
1. Asymmetrical jaw shift with mouth distortion
2. Scrunched nose with compressed facial features
3. One eye open wide, one eye tightly closed
4. Inflated cheeks with eyes rolled upward
5. Frozen unnatural smile showing teeth
6. Lower lip pulled upward covering the upper lip

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- All frames identical in size and perfectly aligned
- Thin 2px grid dividers
- Same face identity and lighting across all frames
- No visible text, labels, numbers, captions, or overlays`
      },
      {
        id: "facial_pose_ocular_macro",
        name: "Eye Detail Close-ups",
        desc: "Extreme close-up eye photography",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Extreme eye close-ups. Background: neutral.

FRAMES:
1. Direct gaze, both eyes sharp focus
2. Side glance, iris detail visible
3. Looking upward, sclera visible
4. Half-closed, dreamy expression
5. Wide open, surprised look
6. Squinting, intense focus

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Same eye color and detail across all frames
- Macro-level clarity on iris texture
- No visible text or overlays`
      },
      {
        id: "anatomy_pose_fashion_stances",
        name: "Full-Body Fashion Shoot",
        desc: "Classic fashion model poses",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Full-body fashion poses. Background: white seamless.

FRAMES:
1. Arms at sides, weight on left leg
2. Hand on hip, slight body turn
3. Walking stance, natural motion
4. Crossed arms, confident posture
5. Leaning stance, relaxed position
6. Profile stance, side view

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- All frames identical in size and perfectly aligned
- Same body proportions and lighting
- No visible text, labels, or overlays`
      },
      {
        id: "anatomy_pose_floating_poses",
        name: "Floating Suspended Poses",
        desc: "Weightless, suspended body shots",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Floating/suspended poses. Background: gradient or solid.

FRAMES:
1. Fetal position, floating in space
2. Arms outstretched, horizontal float
3. Upside down, graceful descent
4. Curled backward, zero gravity
5. Reaching upward, ascending
6. Relaxed float, eyes closed

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Consistent lighting and body proportions
- Believable weightlessness in each pose
- No visible text or overlays`
      },
      {
        id: "anatomy_pose_floor_poses",
        name: "Floor & Reclined Poses",
        desc: "Elegant floor and reclined poses",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Floor and reclined poses. Background: white seamless.

FRAMES:
1. Lying flat, looking up
2. Propped on elbows, relaxed
3. Side lying, head on arm
4. Seated on floor, legs extended
5. Curled position, intimate
6. Sprawled, editorial style

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Same body proportions throughout
- Consistent lighting from above
- No visible text or overlays`
      },
      {
        id: "anatomy_pose_hand_gestures",
        name: "Hand Detail Shots",
        desc: "Detailed hand and gesture shots",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Hand gesture close-ups. Background: neutral.

FRAMES:
1. Open palm, fingers spread
2. Closed fist, strong gesture
3. Pointing finger, directive
4. Peace sign, relaxed
5. Hand on face, thoughtful
6. Interlocked fingers, contemplative

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Same skin tone and hand proportions
- Sharp focus on hand details
- No visible text or overlays`
      },
      {
        id: "apparel_textile_luxury_editorial",
        name: "Luxury Fashion Editorial",
        desc: "High-end fashion garment focus",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Luxury fashion editorial.

FRAMES:
1. Structured blazer, clean lines
2. Flowing silk dress, fabric drape
3. Tailored pants, precise fit
4. Cashmere sweater, soft texture
5. Leather jacket, material detail
6. Evening gown, dramatic silhouette

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Garment details preserved
- Consistent lighting and color
- No distortion or drift`
      },
      {
        id: "apparel_textile_street_utility",
        name: "Streetwear Lookbook",
        desc: "Urban streetwear aesthetic",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Street utility fashion.

FRAMES:
1. Oversized hoodie, relaxed fit
2. Cargo pants, functional pockets
3. Bomber jacket, urban style
4. Sneakers focus, street level
5. Layered look, mixed textures
6. Full outfit, environmental

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Street photography aesthetic
- Consistent character identity
- No visible text or overlays`
      },
      {
        id: "product_macro",
        name: "Product Hero Shots",
        desc: "Product interaction close-ups",
        prompt: `Use the uploaded PRODUCT REFERENCE IMAGE as the exact product identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Macro product shots.

FRAMES:
1. Product hero shot, clean background
2. Texture detail close-up
3. Material surface macro
4. Brand/logo element detail
5. Functional feature highlight
6. Product in use context

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Product consistency maintained
- High detail macro clarity
- No product drift or distortion`
      },
      {
        id: "cinematography_essential_angles",
        name: "Classic Studio Angles",
        desc: "Foundational camera angles",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Classic cinematography angles.

FRAMES:
1. Eye level, neutral angle
2. Low angle, powerful perspective
3. High angle, diminutive effect
4. Dutch angle, dynamic tilt
5. Over-the-shoulder framing
6. Close-up, intimate portrait

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Same character in all frames
- Professional studio lighting
- No visible text or overlays`
      },
      {
        id: "cinematography_kinetic_flash",
        name: "Motion Flash Shoot",
        desc: "Frozen motion with flash",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Kinetic flash photography.

FRAMES:
1. Jump frozen mid-air
2. Hair whip, motion freeze
3. Fabric flow, frozen movement
4. Running stance, flash freeze
5. Spin captured, dress flare
6. Dynamic gesture, flash pop

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Flash-frozen motion in each
- Same character identity
- Sharp focus despite motion`
      },
      {
        id: "cinematography_street_flash",
        name: "Street Style Flash",
        desc: "Gritty street flash aesthetic",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Street photography with flash.

FRAMES:
1. Direct flash, frozen motion
2. Side lighting, dramatic shadows
3. Backlit silhouette with rim light
4. Hard flash, high contrast
5. Motion blur with flash freeze
6. Night street, flash fill

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Street photography aesthetic
- Flash photography lighting
- No drift in subject identity`
      },
      {
        id: "cinematography_editorial_set",
        name: "Editorial Lighting Setup",
        desc: "Controlled studio lighting",
        prompt: `Use the uploaded CHARACTER REFERENCE IMAGE as the exact identity.

Create a PROFESSIONAL 3x2 GRID CONTACT SHEET (6 IMAGES).
Resolution: 8K. Editorial studio lighting.

FRAMES:
1. Rembrandt lighting, classic portrait
2. Butterfly lighting, glamour style
3. Split lighting, dramatic half-face
4. Rim lighting, silhouette edge
5. Broad lighting, open face
6. Loop lighting, soft shadows

CONSTRAINTS:
- Exact 3x2 grid, exactly 6 frames
- Professional lighting setups
- Same character throughout
- No visible text or overlays`
      }
    ];

    // State
    let currentScreen = 'landing';
    let uploadedImage = null;
    let selectedShootType = null;
    let compiledPrompt = '';

    // Screen navigation
    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById('screen-' + screenId).classList.add('active');
      currentScreen = screenId;
    }

    function goToLanding() {
      showScreen('landing');
    }

    function goToUpload() {
      showScreen('upload');
      updateUploadUI();
    }

    function goToChoose() {
      if (!uploadedImage) return;
      showScreen('choose');
      renderShootGrid();
    }

    function startOver() {
      uploadedImage = null;
      selectedShootType = null;
      compiledPrompt = '';
      showScreen('landing');
    }

    // Upload handling
    function updateUploadUI() {
      const dropZone = document.getElementById('drop-zone');
      const previewContainer = document.getElementById('preview-container');
      const previewImg = document.getElementById('preview-img');

      if (uploadedImage) {
        dropZone.style.display = 'none';
        previewContainer.style.display = 'block';
        previewImg.src = uploadedImage;
      } else {
        dropZone.style.display = 'flex';
        previewContainer.style.display = 'none';
      }
    }

    function handleFileSelect(event) {
      const file = event.target.files[0];
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = (e) => {
          uploadedImage = e.target.result;
          updateUploadUI();
        };
        reader.readAsDataURL(file);
      }
    }

    function removeImage() {
      uploadedImage = null;
      document.getElementById('fileInput').value = '';
      updateUploadUI();
    }

    // Drag and drop
    const dropZone = document.getElementById('drop-zone');

    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('dragover');
    });

    dropZone.addEventListener('dragleave', () => {
      dropZone.classList.remove('dragover');
    });

    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('dragover');
      const file = e.dataTransfer.files[0];
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = (ev) => {
          uploadedImage = ev.target.result;
          updateUploadUI();
        };
        reader.readAsDataURL(file);
      }
    });

    // Shoot type selection
    function renderShootGrid() {
      const grid = document.getElementById('shoot-grid');
      grid.innerHTML = SHOOT_TYPES.map(type => `
        <div class="shoot-card ${selectedShootType === type.id ? 'selected' : ''}"
             onclick="selectShootType('${type.id}')">
          <div class="shoot-card-title">${type.name}</div>
          <div class="shoot-card-desc">${type.desc}</div>
        </div>
      `).join('');

      updateGenerateButton();
    }

    function selectShootType(id) {
      selectedShootType = id;
      renderShootGrid();
    }

    function updateGenerateButton() {
      const footer = document.getElementById('generate-footer');
      footer.style.display = selectedShootType ? 'block' : 'none';
    }

    // Generate
    function generateShoot() {
      if (!selectedShootType) return;

      const btn = document.getElementById('generate-btn');
      btn.disabled = true;
      btn.textContent = 'Generating...';

      // Compile prompt
      const shootType = SHOOT_TYPES.find(t => t.id === selectedShootType);
      compiledPrompt = shootType.prompt;

      // Simulate generation
      setTimeout(() => {
        btn.disabled = false;
        btn.textContent = 'Generate Shoot';
        showResults();
      }, 1500);
    }

    function showResults() {
      const shootType = SHOOT_TYPES.find(t => t.id === selectedShootType);

      document.getElementById('results-title').textContent = shootType.name;
      document.getElementById('prompt-text').textContent = compiledPrompt;

      // Render contact sheet
      const sheet = document.getElementById('contact-sheet');
      sheet.innerHTML = Array(6).fill(0).map((_, i) => `
        <div class="contact-frame">
          ${uploadedImage
            ? `<img src="${uploadedImage}" alt="Frame ${i + 1}">`
            : `<span>Frame ${i + 1}</span>`
          }
        </div>
      `).join('');

      showScreen('results');
    }

    function regenerate() {
      generateShoot();
    }

    function tryAnother() {
      selectedShootType = null;
      showScreen('choose');
      renderShootGrid();
    }

    // Copy prompt
    async function copyPrompt() {
      const btn = document.getElementById('copy-btn');
      try {
        await navigator.clipboard.writeText(compiledPrompt);
        btn.textContent = 'Copied!';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.textContent = 'Copy Prompt';
          btn.classList.remove('copied');
        }, 2000);
      } catch (err) {
        console.error('Copy failed:', err);
      }
    }
  </script>
</body>
</html>
